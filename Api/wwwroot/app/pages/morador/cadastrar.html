<!--<div ng-include="'app/pages/layout/header.html'"></div>-->

<div class="ibox-content">
    <div ng-include="'app/pages/layout/image.html'"></div>



    <form name="visitanteForm" data-ng-submit="ctrl.salvar()" novalidate>

        <div class="row">
            <div class="input-field col s12">
                <label for="image"></label>
                <img src="data:image/jpeg;base64,{{ctrl.morador.Foto}}" />
            </div>
        </div>
        <div class="row">

            <div class="input-field col s12 s8 l8">
                <input type="text" ng-model="ctrl.morador.Nome" length="10" />
                <label>Nome</label>
            </div>

            <div class="input-field col s12 s4 l4">
                <label  for="inputCreated">Data Nascimento</label>
                <input input-date
                       type="text"
                       name="created"
                       id="inputCreated"
                       ng-model="ctrl.morador.DataNascimento"
                       container=""
                       format="dd/mm/yyyy"
                       months-full="{{ month }}"
                       months-short="{{ monthShort }}"
                       weekdays-full="{{ weekdaysFull }}"
                       weekdays-short="{{ weekdaysShort }}"
                       weekdays-letter="{{ weekdaysLetter }}"
                       disable="disable"
                       min="{{ minDate }}"
                       max="{{ maxDate }}"
                       today="today"
                       first-day="1"
                       clear="clear"
                       close="close"
                       select-years="15"
                       on-start="onStart()"
                       on-render="onRender()"
                       on-open="onOpen()"
                       on-close="onClose()"
                       on-set="onSet()"
                       on-stop="onStop()" />


               <!--<input type="text" input-date select-years="50" format="dd/mm/yyyy" class="datepicker" on-set="onSet('#data_nascimento')"
                       id="data_nascimento" ng-model="ctrl.morador.DataNascimento" />-->

            </div>

        </div>

        <div class="row">

            <div class="input-field col s12">
                <input type="text" ng-model="ctrl.morador.Endereco" length="10" />
                <label>Endereço</label>
            </div>

        </div>
        <div class="row">
            <div class="input-field col s12 m3 l3">
                <label class="control-label">Identidade</label>
                <input type="text" ng-model="ctrl.morador.Identidade" />
            </div>

            <div class="input-field col s12 m3 l3 ">

                <select name="uf_identidade" id="uf_identidade" material-select watch
                        ng-model="ctrl.morador.Estado.Identificador">
                    <option ng-selected="ctrl.morador.Estado.Identificador == estado.Identificador"
                            ng-repeat="estado in ctrl.listaEstados" value="{{estado.Identificador}}">
                        {{estado.Sigla}}
                    </option>
                </select>
                <label for="uf_identidade">UF Identidade</label>
            </div>

            <div class="col s12 m6 l6">
                <div class="col s12" style="margin-top: 20px !important;">
                    <label style="color: #4E4D4C;" for="noEmail">Sexo</label>
                </div>
                <div class="col s4">
                    <input class="with-gap" type="radio" id="masculino" ng-model="ctrl.morador.Sexo" value="0" />
                    <label for="masculino">M</label>
                </div>
                <div class="col s4">
                    <input class="with-gap" type="radio" id="feminino" ng-model="ctrl.morador.Sexo" value="1" />
                    <label for="feminino">F</label>
                </div>
            </div>

        </div>

        <br />


        <div class="row" ng-show="ctrl.morador.Dependentes.length>0">

            <div class="ibox-title">
                Informações do(s) Dependente(s)
            </div>

            <div class="col s12">

                <table class="table table-bordered table-striped">
                    <thead>
                    <th>Nome</th>
                    <th class="acao90 center-align">Acão</th>

                    </thead>

                    <tbody>
                        <tr ng-repeat="dependente in ctrl.morador.Dependentes">
                            <td>{{dependente.Nome}}</td>
                            <td class="center-align">

                                <a ng-click="editar(dependente)" style="cursor: pointer" tooltipped data-position="top" data-tooltip="Editar"> <i class="material-icons md-18px">edit</i></a>
                                <a ng-click="remover(dependente)" style="cursor: pointer" tooltipped data-position="top" data-tooltip="Excluir"><i class="material-icons md-18px">delete</i></a>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <div class="row">
            <div class="col s12 m12 l12 right-align">
                <a class="btn" modal data-target="modalDependentes"><i tooltipped data-position="top" data-tooltip="Novo dependente" class="material-icons md-18px">add</i></a>
            </div>
        </div>
        <br />

        <div class="modal" id="modalDependentes">

            <div class="modal-content">

                <h5>Cadastro de Dependentes</h5>

                <div class="row">
                    <div class="input-field col s12">
                        <label class="control-label">Nome do dependente</label>
                        <input type="text" ng-model="ctrl.dependente.Nome" />
                    </div>
                </div>

                <div class="row">
                    <div class="col s12 m12 l12 right-align">
                        <input type="button" id="Adicionar" ng-click="ctrl.adicionar(dependente)" name="Dependentes" value="Adicionar"
                               class="btn btn-primary" />
                        <a class="btn modal-action modal-close">Fechar</a>
                    </div>
                    </div>
                </div>

            </div>

        <div class="row">
            <div class="col s12 m12 l12 right-align">
                <button type="button" class="btn btn-primary" ng-click="ctrl.salvar()" title="Salvar">Salvar</button>
             
                <a class="btn btn-warning" href="#/morador/">Voltar</a>
            </div>
        </div>

    </form>
</div>
